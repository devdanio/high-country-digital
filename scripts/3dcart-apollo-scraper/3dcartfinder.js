const axios = require("axios");
const fs = require("fs");
const path = require("path");
function convertToUrl(input) {
  try {
    const url = new URL(input.startsWith("http") ? input : `https://${input}`);
    return url.href; // Return the full URL
  } catch {
    return -1; // Return -1 if conversion fails
  }
}
// Example usage

const urls = new Set([
  "www.seasnax.com",
  "www.aftermarketperformancegroup.com",
  "www.otherdesigns.com",
  "www.thepipershut.com",
  "www.grandstage.com",
  "www.trophyman.com",
  "www.emerges.com",
  "www.eclipsecctv.com",
  "www.alldadelawnmowers.com",
  "www.nappco.com",
  "www.goldenopenings.com",
  "www.plantra.com",
  "www.lwrci.com",
  "www.welshbaker.com",
  "www.mediaoneusa.com",
  "www.highbyoutdoors.com",
  "www.logicbus.com",
  "www.scispec.net",
  "www.gorillapaper.com",
  "www.harmonyhousefoods.com",
  "www.jemguns.com",
  "www.aedsuperstore.com",
  "www.connectronics.com",
  "www.naturalsoapwholesale.com",
  "www.usaequipmentdirect.com",
  "www.feldfire.com",
  "www.pkys.com",
  "www.georgiawestern.com",
  "www.agsgis.com",
  "www.craniorehab.com",
  "www.impressathletix.com",
  "www.theislandbath.com",
  "www.unitedbeauty.com",
  "www.microplane.com",
  "www.flawlessbeautyandskin.com",
  "www.millsupplies.com",
  "www.antelopebeads.com",
  "www.southbarkprofessionalpet.com",
  "www.tapeservices.com",
  "www.electriduct.com",
  "www.therhinestoneworld.com",
  "www.conversationconcepts.com",
  "www.swimvilleusa.com",
  "www.peerlesssoap.com",
  "www.norsk-stor.com",
  "www.platinumcctv.com",
  "www.amphenol-sine.com",
  "www.sbrammunition.com",
  "www.atlanticspice.com",
  "www.waveroomplus.com",
  "www.brimguard.com",
  "www.happybodies.com",
  "www.presentech.com",
  "www.clipa.us",
  "www.bmsizone.com",
  "www.genesisoffroad.com",
  "www.lushbanners.com",
  "www.logoup.com",
  "www.acepackagingaz.com",
  "www.thewrightstuff.com",
  "www.naturesexpression.com",
  "www.ricmotech.com",
  "www.esupplystore.com",
  "www.newceilingtiles.com",
  "www.factoryeffex.com",
  "www.baselabtools.com",
  "www.omegamanufacturinginc.com",
  "www.tenniscourtsupply.com",
  "www.fivebarkingdogs.com",
  "www.towmate.com",
  "www.theknifedistributor.com",
  "www.smrarch.com",
  "www.ahscompany.com",
  "www.sunweldingsafes.com",
  "www.agrecol.com",
  "www.michaelsuniform.com",
  "www.olivus.com",
  "www.specialtyenterprises.com",
  "www.hummerpartsguy.com",
  "www.vmaxtanks.com",
  "www.earthsbounty.com",
  "www.theamericanmarksman.com",
  "www.alexorthopedic.com",
  "www.strengthdepot.com",
  "www.bsimedicalsupply.com",
  "www.pellegrinomusic.com",
  "www.bigtalldirect.com",
  "www.shift4shop.com",
  "www.primaatlanta.com",
  "www.mariasgourmetkitchen.com",
  "www.amcadgraphics.com",
  "www.dia-foot.com",
  "www.industrialairpower.com",
  "www.midwaydisplays.com",
  "www.jptech.com",
  "www.aspecialtybox.com",
  "www.papershredders.com",
  "www.simplyspeakers.com",
  "www.banxwatersports.com",
  "www.stage3motorsports.com",
  "www.nuworldinc.com",
  "www.aquaticponds.com",
  "www.pariyatti.org",
  "www.midwest-distributors.com",
  "www.photoweights.com",
  "www.directdoorhardware.com",
  "www.schoolnursesupplyinc.com",
  "www.alldoorparts.com",
  "www.mattcones.com",
  "www.sweetiessweets.com",
  "www.americanqualityfoods.com",
  "www.weavernut.com",
  "www.american-niagara.com",
  "www.crowncoffee.net",
  "www.antiquecupboard.com",
  "www.isheaves.com",
  "www.dachshunddelights.com",
  "www.nationalchefsupply.com",
  "www.rahabmedicalsupply.com",
  "www.filterspro.com",
  "www.jrorders.com",
  "www.pacificlegend.com",
  "www.swartglass.com",
  "www.shopbeecreative.com",
  "www.craftysticks.com",
  "www.leedeewholesale.com",
  "www.unitedexpressdist.com",
  "www.thewoodyhut.com",
  "www.menomineesaw.com",
  "www.atlanticbrewsupply.com",
  "www.powermowersales.com",
  "www.lom.cc",
  "www.aplusmarine.com",
  "www.tamarasprofessionalbodysugaring.com",
  "www.doggonegoodclickercompany.com",
  "www.frankfarms.com",
  "www.golden-state.net",
  "www.spiritfeather.com",
  "www.rjroberts.com",
  "www.medexpressgloves.com",
  "www.sfherb.com",
  "www.unityusa.com",
  "www.celebratecommunion.com",
  "www.powerandcontrol.com",
  "www.wiedmannbros.com",
  "www.metservers.com",
  "www.goswac.com",
  "www.animalhealthoptions.com",
  "www.kneegard.com",
  "www.hankselectric.supply",
  "www.bluestarmusic.com",
  "www.printpal.com",
  "www.varsityimprints.com",
  "www.sunheat.com",
  "www.evolvefish.com",
  "www.intekstrength.com",
  "www.aviationsurvival.com",
  "www.dynamicscreenprintingsupply.com",
  "www.vivalife.com",
  "www.absolutehobbyz.com",
  "www.westernautoandhome.com",
  "www.jobmanusa.com",
  "www.cpr-savers.com",
  "www.recycleaway.com",
  "www.precisionproducts.us",
  "www.pacifictoolandgauge.com",
  "www.inttero.com",
  "www.eastshoremedical.com",
  "www.islandtreasuresgourmet.com",
  "www.nepretzel.com",
  "www.awardszone.com",
  "www.tbasuppressors.com",
  "www.sassyclips.com",
  "www.bonvida.biz",
  "www.aromasanctum.com",
  "www.nationalcarburetors.com",
  "www.hytechsales.com",
  "www.buddysallstars.com",
  "www.isisurgery.com",
  "www.competitiveedgeproducts.com",
  "www.toolsrenewed.com",
  "www.gabees.com",
  "www.ride-engineering.com",
  "www.alligatorperformance.com",
  "www.astonishingskincare.com",
  "www.hamantboats.com",
  "www.adirondacktonewood.com",
  "www.tele-pole.com",
  "www.innovativebowling.com",
  "www.ultimateairride.com",
  "www.momentcatcherproductions.com",
  "www.amatteroffax.com",
  "www.bulbandbattery.com",
  "www.vaportrailarchery.com",
  "www.designoctopus.com",
  "www.cheeverind.com",
  "www.nuprosupplements.com",
  "www.worldpackagingco.com",
  "www.harrysarmysurplus.net",
  "www.strobesnmore.com",
  "www.crowderscustomizing.com",
  "www.docksidemarket.com",
  "www.milltechmarine.com",
  "www.tasseldepot.com",
  "www.organicattire.com",
  "www.k-chemicals.com",
  "www.magillustrated.com",
  "www.kingmakerscigars.com",
  "www.directausa.com",
  "www.deltateamtactical.com",
  "www.code1supply.com",
  "www.shopflipo.com",
  "www.wholesalewidgets.com",
  "www.belgerphotography.com",
  "www.ruthlessperformancemotorsports.com",
  "www.videoproject.org",
  "www.gooscreen.com",
  "www.abolox.com",
  "www.friendsofmercer.com",
  "www.calypsocards.com",
  "www.surfaceprintsource.com",
  "www.strongconfidentwomaninc.com",
  "www.tenspros.com",
  "www.monstertransmission.com",
  "www.microframecorp.com",
  "www.edrisplastics.com",
  "www.bonniesherbals.com",
  "www.medonthego.com",
  "www.mindstart.com",
  "www.dynamic-ms.com",
  "www.heartsmart.com",
  "www.walkingcaneco.com",
  "wsipcart-com.3dcartstores.com",
  "ezshim.3dcartstores.com",
  "www.bassmods.com",
  "geartogo.com",
  "wsipcart-com.3dcartstores.com",
  "ezshim.3dcartstores.com",
  "www.bassmods.com",
  "geartogo.com",
  "www.blueapparel.com",
  "www.stvartanbookstore.com",
  "hillsidebees.com",
  "thescalestore.com",
  "304t61372447617.s4shops.com",
  "lagunaedi.com",
  "casahaimetrading.com",
  "store.ehsracing.com",
  "www.westlakehighschoolchoir.com",
  "www.mmjerky.com",
  "galaxstore.net",
  "www.buttonmakers.net",
  "www.patemeadows.com",
  "www.localkingrubberstamp.com",
  "www.fleegalfarms.com",
  "www.aspengoldmedical.com",
  "torreyscaleswholesale.com",
  "www.rubysinnstore.com",
  "spokanechiefsgroups.com",
  "store.korfx.com",
  "scaleweighingsystems.com",
  "www.pritinyc.com",
  "www.vanpeltsalesstore.com",
  "www.jeeperscreepersusa.com",
  "www.blackforestflowers.com",
  "www.wowembossingpowderusa.com",
  "www.aplusmarine.com",
  "www.globetrottin.com",
  "darciesllc.com",
  "sfsspecialties.com",
  "www.pdiportraits.com",
  "cart.flexradio.com",
  "www.southeastchevyparts.com",
  "shop.certifiable.com",
  "www.dazzledeesnovelties.com",
  "www.bonomoturkishtaffy.com",
  "consumables.brooksmachinery.com",
  "agoodwincollections.com",
  "www.pmfsuspension.com",
  "store.necktitemagic.com",
  "extremeflightrc.com",
  "www.kimscardkits.com",
  "www.dickkramer.com",
  "www.brickcityprinting.com",
  "www.incensewarehouse.com",
  "www.deltateamtactical.com",
  "www.wilsonbrosgardens.com",
  "wsipcart-com.3dcartstores.com",
  "https://wsipcart-com.3dcartstores.com",
  "https://ezshim.3dcartstores.com",
  "https://www.bassmods.com",
  "https://geartogo.com",
  "https://www.pinterest.com",
  "https://www.pinterest.com",
  "http://www.blueapparel.com",
  "https://www.stvartanbookstore.com",
  "https://hillsidebees.com",
  "https://304t61372447617.s4shops.com",
  "https://www.airgizmos.com",
  "https://www.eastcoastskimboards.com",
  "https://lagunaedi.com",
  "https://thescalestore.com",
  "http://www.bonomoturkishtaffy.com",
  "https://www.welshbaker.com",
  "https://www.localkingrubberstamp.com",
  "https://galaxstore.net",
  "https://www.buttonmakers.net",
  "https://www.patemeadows.com",
  "https://www.fleegalfarms.com",
  "https://www.mmjerky.com",
  "https://www.pinworld.com",
  "https://hillsidebees.com",
  "https://shop.emscorporate.com",
  "https://galaxstore.net",
  "https://www.buttonmakers.net",
  "https://www.patemeadows.com",
  "https://shop.mirachem.com",
  "https://www.aspengoldmedical.com",
  "https://304t61372447617.s4shops.com",
  "https://www.wowembossingpowderusa.com",
  "https://www.globetrottin.com",
  "https://store.golfgym.com",
  "https://darciesllc.com",
  "https://www.welshbaker.com",
  "https://www.pdiportraits.com",
  "https://www.bettercontainers.com",
  "https://cart.flexradio.com",
  "https://www.greatcandle.com",
  "https://www.pritinyc.com",
  "https://www.vanpeltsalesstore.com",
  "https://www.jeeperscreepersusa.com",
  "https://www.blackforestflowers.com",
  "https://www.wowembossingpowderusa.com",
  "http://www.greenecosupply.com",
  "https://www.aplusmarine.com",
  "https://www.t-beads.com",
  "https://store.golfgym.com",
  "https://sfsspecialties.com",
  "https://www.welshbaker.com",
  "https://www.pdiportraits.com",
  "http://www.justntyme.com",
  "https://www.mmjerky.com",
  "https://pinntube.com",
  "https://www.southeastchevyparts.com",
  "https://cart.flexradio.com",
  "https://www.originalworksonline.com",
  "https://www.forwardcontrolsdesign.com",
  "https://www.kravora.com",
  "https://pinntube.com",
  "https://www.gordonsmfg.com",
  "http://shop.certifiable.com",
  "https://store.ehsracing.com",
  "https://www.kimscardkits.com",
  "https://www.aplusmarine.com",
  "https://shop.texasbowhunter.com",
  "https://agoodwincollections.com",
  "https://www.dickkramer.com",
  "https://extremeflightrc.com",
  "https://www.stvartanbookstore.com",
  "https://www.localkingrubberstamp.com",
  "https://galaxstore.net",
  "https://www.bomberonline.com",
  "http://www.greenecosupply.com",
  "https://ncescatalog.com",
  "http://store.citationsoftware.com",
  "https://www.bettercontainers.com",
  "https://extremeflightrc.com",
  "https://scaleweighingsystems.com",
  "https://www.rubysinnstore.com",
  "https://shop.texasbowhunter.com",
  "https://store.golfgym.com",
  "https://cart.flexradio.com",
  "https://www.dickkramer.com",
  "https://extremeflightrc.com",
  "https://www.incensewarehouse.com",
  "http://www.clipartpanda.com",
  "https://www.deltateamtactical.com",
  "https://www.brickcityprinting.com",
  "https://www.wilsonbrosgardens.com",
  "wsipcart-com.3dcartstores.com",
  "www.shopify.com",
  "www.shift4shop.com",
  "ezshim.3dcartstores.com",
  "www.bassmods.com",
  "geartogo.com",
  "www.pinterest.com",
  "www.freelancer.com",
  "www.blueapparel.com",
  "www.stvartanbookstore.com",
  "hillsidebees.com",
  "thescalestore.com",
  "304t61372447617.s4shops.com",
  "www.eastcoastskimboards.com",
  "lagunaedi.com",
  "www.bomberonline.com",
  "casahaimetrading.com",
  "www.monroeperdu.com",
  "store.ehsracing.com",
  "www.westlakehighschoolchoir.com",
  "www.welshbaker.com",
  "www.mmjerky.com",
  "www.bouldercreekptso.com",
  "galaxstore.net",
  "www.buttonmakers.net",
  "www.patemeadows.com",
  "www.localkingrubberstamp.com",
  "www.fleegalfarms.com",
  "www.aspengoldmedical.com",
  "www.pinworld.com",
  "torreyscaleswholesale.com",
  "www.rubysinnstore.com",
  "ncescatalog.com",
  "spokanechiefsgroups.com",
  "store.korfx.com",
  "scaleweighingsystems.com",
  "www.pritinyc.com",
  "www.vanpeltsalesstore.com",
  "www.jeeperscreepersusa.com",
  "www.blackforestflowers.com",
  "www.wowembossingpowderusa.com",
  "www.aplusmarine.com",
  "www.greatcandle.com",
  "www.globetrottin.com",
  "store.golfgym.com",
  "darciesllc.com",
  "sfsspecialties.com",
  "www.pdiportraits.com",
  "www.bettercontainers.com",
  "cart.flexradio.com",
  "www.southeastchevyparts.com",
  "shop.certifiable.com",
  "www.dazzledeesnovelties.com",
  "shop.texasbowhunter.com",
  "www.bonomoturkishtaffy.com",
  "consumables.brooksmachinery.com",
  "agoodwincollections.com",
  "www.pmfsuspension.com",
  "store.necktitemagic.com",
  "extremeflightrc.com",
  "www.kimscardkits.com",
  "www.dickkramer.com",
  "www.smallbizgenius.net",
  "www.brickcityprinting.com",
  "www.incensewarehouse.com",
  "www.wikagauges.com",
  "www.deltateamtactical.com",
  "www.clipartpanda.com",
  "www.wilsonbrosgardens.com",
  "wsipcart-com.3dcartstores.com",
  "www.shopify.com",
  "ecommerceplatforms.io",
  "www.shift4shop.com",
  "ezshim.3dcartstores.com",
  "investors.shift4.com",
  "www.meticulosity.com",
  "www.bassmods.com",
  "geartogo.com",
  "www.pinterest.com",
  "www.freelancer.com",
  "www.blueapparel.com",
  "www.stvartanbookstore.com",
  "hillsidebees.com",
  "thescalestore.com",
  "304t61372447617.s4shops.com",
  "www.eastcoastskimboards.com",
  "www.bestconverter.com",
  "www.bomberonline.com",
  "www.bettercontainers.com",
  "www.bmdca-store.com",
  "www.t-beads.com",
  "www.bonomoturkishtaffy.com",
  "casahaimetrading.com",
  "store.ehsracing.com",
  "www.westlakehighschoolchoir.com",
  "www.monroeperdu.com",
  "www.buskellc.com",
  "www.sinopia.com",
  "www.welshbaker.com",
  "www.localkingrubberstamp.com",
  "shop.emscorporate.com",
  "thetrophyplaceinc.com",
  "galaxstore.net",
  "www.buttonmakers.net",
  "www.patemeadows.com",
  "shop.mirachem.com",
  "www.fleegalfarms.com",
  "www.aspengoldmedical.com",
  "www.pinworld.com",
  "www.kimscardkits.com",
  "torreyscaleswholesale.com",
  "store.korfx.com",
  "www.rubysinnstore.com",
  "ncescatalog.com",
  "spokanechiefsgroups.com",
  "scaleweighingsystems.com",
  "www.lbrcoins.com",
  "www.greatcandle.com",
  "www.pritinyc.com",
  "www.vanpeltsalesstore.com",
  "www.jeeperscreepersusa.com",
  "www.blackforestflowers.com",
  "www.wowembossingpowderusa.com",
  "www.greenecosupply.com",
  "www.aplusmarine.com",
  "www.thehorsedepot.com",
  "darciesllc.com",
  "store.golfgym.com",
  "yourcitycanvas.com",
  "store.necktitemagic.com",
  "sfsspecialties.com",
  "www.pdiportraits.com",
  "ezhidewire.com",
  "www.justntyme.com",
  "www.mmjerky.com",
  "cart.flexradio.com",
  "www.originalworksonline.com",
  "www.forwardcontrolsdesign.com",
  "pinntube.com",
  "www.airgizmos.com",
  "www.gordonsmfg.com",
  "shop.certifiable.com",
  "www.crazyguycells.com",
  "www.joslindisplays.net",
  "www.globetrottin.com",
  "shop.texasbowhunter.com",
  "www.aquiltersdream.com",
  "store.citationsoftware.com",
  "extremeflightrc.com",
  "www.brickcityprinting.com",
  "www.incensewarehouse.com",
  "www.deltateamtactical.com",
  "www.clipartpanda.com",
  "www.wilsonbrosgardens.com",
  "beardiversifiedstore-com.3dcartstores.com",
  "storeleads.app",
  "shop-lelandgas-com.3dcartstores.com",
  "shopping-cart-software.no1reviews.com",
  "www.northstateat.com",
  "shop.mediweightloss.com",
  "www.comodo.com",
  "blog.shift4shop.com",
  "customhydronutrients.com",
  "roi-consulting.com",
  "www.prnewswire.com",
  "www.providesupport.com",
  "www.toyzoneonline.net",
  "medium.com",
  "www.websitemagazine.com",
  "themes.shift4shop.com",
  "www.coffeesofhawaii.com",
  "bs-products.com",
  "www.bmrsupply.com",
  "pdsequipment.com",
  "www.lieslshop.com",
  "store.inpath.com",
  "github.com",
  "store.simpson.edu",
  "www.ersbiomedical.com",
  "cableassembliesnow.com",
  "www.keyindustrial.com",
  "phaseconverterusa.com",
  "www.jhhat-co.com",
  "www.blowerdriveservice.com",
  "shop.lutronic.com",
  "drsdistributors.com",
  "gunkgetter.com",
  "www.bkcrusadercorner.com",
  "www.cellarbaits.com",
  "www.marblewarehouse.com",
  "www.ricmotech.com",
  "www.krausescandy.com",
  "www.phddesign.org",
  "owengloves.com",
  "shop.intelitek.com",
  "store.vhc6.com",
  "www.smellnoevil.net",
  "shop.getnarrative.com",
  "www.lwrci.com",
  "shop.palacinainteriors.com",
  "www.jbknifeandtool.com",
  "www.fourseasonssurvival.com",
  "www.skycenterscienceshop.com",
  "www.classicplussizejewelry.com",
  "worldprep.com",
  "www.michaelsuniform.com",
  "www.goknightsshop.com",
  "mikaconcepts.com",
  "www.bxpanded.com",
  "www.oxfordmedicals.com",
  "www.equinite.com",
  "www.globenewswire.com",
  "universalsouthern.com",
  "shop.jewelrestore.net",
  "www.whrulers.com",
  "agulosbiotech.com",
  "store.regenomedix.com",
  "www.dollarbeadbox.com",
  "www.digitalcommerce360.com",
  "www.gfmachinery.com",
  "reptilerapture.net",
  "store.erdmanautomation.com",
  "aquastackmat.com",
  "store.nusourcefinancial.com",
  "www.midwaydisplays.com",
  "k-chemicals.com",
  "www.cicfs-online-store.com",
  "www.shoplom.com",
  "nosetouch.com",
  "www.viablealternatives.com",
  "agapebathandbody.com",
]);

async function fetchAndSearch(url) {
  const websiteName = new URL(url).hostname; // Get the website name
  try {
    const response = await axios.get(url);
    const html = response.data;

    // Regular expression to match the patterns case-insensitively
    const regex = /3d[_-]?cart/gi;
    const matches = html.match(regex);

    if (matches) {
      writeToFile(websiteName);
    }
  } catch (error) {
    console.warn(`Failed for ${websiteName}`); // Log warning for failed requests
  }
}

function writeToFile(websiteName) {
  const filePath = path.join(__dirname, "merged-verified-3d-cart-websites.txt");
  fs.appendFileSync(filePath, `${websiteName}\n`, "utf8");
}

async function run() {
  const totalUrls = urls.size; // Total number of URLs
  let i = 0;
  for (let url of urls) {
    const formattedUrl = convertToUrl(url);
    if (formattedUrl === -1) {
      return;
    }
    console.log("url", formattedUrl);
    await fetchAndSearch(formattedUrl);
    console.log(`Processing ${i + 1} out of ${totalUrls}`); // Log progress
    i++; // Increment the counter manually
  }
}

run().then(console.log);
